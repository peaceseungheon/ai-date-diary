# 기능 요구사항

## 1. 사용자 인증 (MVP)

### 1.1 회원가입

- **입력**: 이메일, 비밀번호, 닉네임
- **검증**:
  - 이메일 형식 검증
  - 비밀번호 최소 8자 이상
  - 이메일 중복 확인
- **출력**: JWT 토큰

### 1.2 로그인

- **입력**: 이메일, 비밀번호
- **출력**: JWT 토큰

### 1.3 로그아웃

- **기능**: 클라이언트에서 토큰 삭제

## 2. 일기 생성 (MVP)

### 2.1 사진 업로드

- **제약사항**:
  - 최소 2장, 최대 10장
  - 파일 형식: JPG, PNG, HEIC
  - 최대 파일 크기: 10MB/장
  - 총 용량: 100MB
- **기능**:
  - 다중 파일 업로드
  - 업로드 진행률 표시
  - 미리보기 기능

### 2.2 AI 일기 생성

- **입력**: 업로드된 사진들, (선택) 데이트 날짜
- **처리**:
  - AI Vision API로 사진 분석
    - 장소 인식 (실내/실외, 장소 유형)
    - 활동 인식 (식사, 관람, 산책 등)
    - 분위기 파악 (낮/밤, 날씨)
  - AI Text Generation으로 일기 생성
    - 2~3문단, 200~400자
    - 감성적이고 따뜻한 톤
    - 시간 순서대로 구성
- **출력**: 생성된 일기 텍스트
- **소요시간**: 10~30초 예상

### 2.3 일기 저장

- **입력**:
  - 생성된 일기 텍스트
  - 사진들
  - 데이트 날짜 (기본값: 오늘)
- **저장 데이터**:
  - 일기 제목 (AI가 생성)
  - 일기 본문
  - 사진 URL들
  - 데이트 날짜
  - 생성 일시

## 3. 일기 조회 (MVP)

### 3.1 일기 목록 조회

- **정렬**: 데이트 날짜 최신순
- **페이지네이션**: 20개씩
- **표시 정보**:
  - 썸네일 (첫 번째 사진)
  - 제목
  - 데이트 날짜
  - 본문 미리보기 (50자)

### 3.2 일기 상세 조회

- **표시 정보**:
  - 제목
  - 전체 본문
  - 모든 사진 (갤러리 형태)
  - 데이트 날짜
  - 생성 일시

## 4. 향후 확장 기능 (Post-MVP)

### Phase 2

- 일기 수정/삭제
- 일기 수정 시 AI 재생성 옵션
- 캘린더 뷰
- 월별 통계 (데이트 횟수, 주요 장소)

### Phase 3

- 커플 계정 연동 (초대 코드)
- 커플과 일기 공유
- 서로의 일기 확인

### Phase 4

- 일기 내 검색 (날짜, 장소, 키워드)
- 태그 기능
- 특정 기간 일기 모아보기

### Phase 5

- SNS 공유 (이미지 카드 형태)
- 일기 PDF 내보내기
- 추억 영상 자동 생성

## 비기능 요구사항

### 성능

- 일기 생성 시간: 30초 이내
- 페이지 로딩: 2초 이내
- 이미지 업로드: 10MB를 10초 이내

### 보안

- HTTPS 통신
- 비밀번호 암호화 (bcrypt)
- JWT 토큰 기반 인증
- 파일 업로드 검증 (MIME 타입, 크기)

### 확장성

- 클라우드 스토리지 사용 (S3 등)
- 이미지 CDN 적용
- DB 인덱싱 (user_id, date)

### 호환성

- 모바일 우선 반응형 디자인
- 최신 브라우저 지원 (Chrome, Safari, Edge)
- iOS 13+, Android 9+ 지원
